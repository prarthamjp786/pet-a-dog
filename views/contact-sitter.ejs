<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pet a Dog | Sitter Info</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <style>
        #map {
            margin-top: 3rem;
            height: 70%;
            border: 3px solid black;
        }

        .placeholder {
            height: 500px;
        }

        /* Optional: Makes the sample page fill the window. */
        html,
        body {
            height: 100%;
        }

        .center {
            display: block;
            margin-left: auto;
            margin-right: auto;
            width: 50%;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="/home">
                <img src="../imgs/pet-a-dog.png" alt="" style="width: 30px;">
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="/home">Home <span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/search-sitter">Search a Sitter</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="/services">Our Services</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="/dog-care">Dog Care</a>
                    </li>
                </ul>
                <div class="form-inline my-2 my-lg-0">
                    <a href="/profile">View Profile</a>
                    <form action="/logout?_method=DELETE" method="POST">
                        <button id="log-out-btn" class="btn btn-primary ml-4" type="submit">Log out</button>
                    </form>
                </div>
            </div>
        </div>
    </nav>
    <div class="container" style="max-width: 80%;">
        <div class="card" style="width: 100%; margin-top: 6rem;">
            <div class="card-body">
                <h4 class="card-title">Contact <%= sitterData.name %></h4>
                <form action="/<%= sitterData.name %>/contact" class="mt-4" method="POST">
                    <div class="form-group">
                        <label for="inputAddress2"><strong>Select Service</strong></label>
                        <select class="custom-select mr-sm-2" id="inlineFormCustomSelect" name="selectedService"
                            required>
                            <option selected value="">Select</option>
                            <% for (var service of services) { %>
                            <option value="<%= service.serviceName %>"><%= service.serviceName %></option>
                            <% } %>
                        </select>
                    </div>
                    <div class="form-row mt-5">
                        <div class="form-group col-md-6">
                            <label for="inputEmail4"><strong>First Name</strong></label>
                            <input type="text" class="form-control" id="inputEmail4" name="firstName" required>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="inputEmail4"><strong>Last Name</strong></label>
                            <input type="text" class="form-control" id="inputEmail4" name="lastName" required>
                        </div>
                    </div>
                    <div class="form-row mt-5">
                        <div class="form-group col-md-6">
                            <label for="inputEmail4"><strong>When would you like to drop off?</strong></label>
                            <input type="date" class="form-control" id="inputEmail4" name="dropOff" required>
                        </div>
                        <div class="form-group col-md-3">
                            <label class="mr-sm-2" for="inlineFormCustomSelect"><strong>Time From</strong></label>
                            <select class="custom-select mr-sm-2" id="inlineFormCustomSelect" name="selectDropTimeFrom"
                                required>
                                <option selected>From</option>
                                <option value="5:00 PM">5:00 PM</option>
                                <option value="6:00 PM">6:00 PM</option>
                                <option value="7:00 PM">7:00 PM</option>
                                <option value="8:00 PM">8:00 PM</option>
                                <option value="9:00 PM">9:00 PM</option>
                                <option value="10:00 PM">10:00 PM</option>
                            </select>
                        </div>
                        <div class="form-group col-md-3">
                            <label class="mr-sm-2" for="inlineFormCustomSelect"><strong>Time To</strong></label>
                            <select class="custom-select mr-sm-2" id="inlineFormCustomSelect" name="selectDropTimeTo"
                                required>
                                <option selected>To</option>
                                <option value="5:00 PM">5:00 PM</option>
                                <option value="6:00 PM">6:00 PM</option>
                                <option value="7:00 PM">7:00 PM</option>
                                <option value="8:00 PM">8:00 PM</option>
                                <option value="9:00 PM">9:00 PM</option>
                                <option value="10:00 PM">10:00 PM</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row mt-5">
                        <div class="form-group col-md-6">
                            <label for="inputEmail4"><strong>When would you like to pick up?</strong></label>
                            <input type="date" class="form-control" id="inputEmail4" name="pickUp" required>
                        </div>
                        <div class="form-group col-md-3">
                            <label class="mr-sm-2" for="inlineFormCustomSelect"><strong>Time From</strong></label>
                            <select class="custom-select mr-sm-2" id="inlineFormCustomSelect" name="selectPickTimeFrom"
                                required>
                                <option selected>From</option>
                                <option value="5:00 PM">5:00 PM</option>
                                <option value="6:00 PM">6:00 PM</option>
                                <option value="7:00 PM">7:00 PM</option>
                                <option value="8:00 PM">8:00 PM</option>
                                <option value="9:00 PM">9:00 PM</option>
                                <option value="10:00 PM">10:00 PM</option>
                            </select>
                        </div>
                        <div class="form-group col-md-3">
                            <label class="mr-sm-2" for="inlineFormCustomSelect"><strong>Time To</strong></label>
                            <select class="custom-select mr-sm-2" id="inlineFormCustomSelect" name="selectPickTimeTo"
                                required>
                                <option selected>To</option>
                                <option value="5:00 PM">5:00 PM</option>
                                <option value="6:00 PM">6:00 PM</option>
                                <option value="7:00 PM">7:00 PM</option>
                                <option value="8:00 PM">8:00 PM</option>
                                <option value="9:00 PM">9:00 PM</option>
                                <option value="10:00 PM">10:00 PM</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row mt-5">
                        <div class="form-group col-md-4">
                            <label for="inputEmail4"><strong>What is your email?</strong></label>
                            <input type="email" class="form-control" id="inputEmail4" name="userEmail" required>
                        </div>
                    </div>
                    <p class="card-text">
                        For your safety & security, Rover will not expose your
                        phone number until
                        you've booked your stay. Messages from Dawn will come from (858) 375-1820, a number owned by
                        Rover.
                    </p>
                    <div class="form-row">
                        <div class="form-group col-md-6 mt-4">
                            <label for="inputEmail4">
                                <h4><strong>Pets</strong></h4>
                            </label>
                            <% if (dogData.length == 0) { %>
                            <p class="card-text">
                                <a href="/profile/add" class="card-link">Add your Dog</a>
                            </p>
                            <% } else { %>
                            <div class="card">
                                <div class="card-body">
                                    <% for (var dog of dogData) { %>
                                    <p class="card-text">
                                        <%= dog.dog_name %>
                                        (<%= dog.dog_breed %>)
                                    </p>
                                    <% } %>
                                </div>
                            </div>
                            <% } %>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col">
                            <button type="submit" class="btn btn-success">Next</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div id="map" class="container"></div>
    <script>
        function initMap() {
            var geocoder = new google.maps.Geocoder();
            var address = `<%= sitterData.address %>`;
            var options = {
                zoom: 14,
                center: { lat: 40.7178, lng: -74.0431 }
            }
            var map = new google.maps.Map(document.getElementById('map'), options);

            const contentString =
                '<div class="card" style="width: 20rem;">' +
                '<img class="card-img-top img-thumbnail" src="<%= sitterData.img %>" alt="Card image cap">' +
                '<div class="card-body">' +
                '<h5 class="card-title"><%= sitterData.name %></h5>' +
                '<h6 class="card-subtitle mb-2 text-muted"><%= sitterData.address %></h6>' +
                "</div>" +
                "</div>";


            geocoder.geocode({ 'address': address }, function (results, status) {
                if (status == google.maps.GeocoderStatus.OK) {
                    var latitude = results[0].geometry.location.lat();
                    var longitude = results[0].geometry.location.lng();
                    var marker = new google.maps.Marker({
                        position: { lat: latitude, lng: longitude },
                        map: map
                    });

                    var infoWindow = new google.maps.InfoWindow({
                        content: contentString
                    });

                    marker.addListener('click', function () {
                        infoWindow.open(map, marker);
                    });
                }
            });
        }
    </script>
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAnbS5VoTysqU5e79Od7lMZ93Y7iJ5AYKw&callback=initMap">
        </script>

    <footer class="container-fluid page-footer font-small bg-info pt-4" style="margin-top: 2rem;">
        <div class="container text-center text-md-left">
            <div class="row">
                <div class="col-md-6 mt-md-0 mt-3">
                    <h5 class="text-uppercase font-weight-bold">Footer text 1</h5>
                    <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Expedita sapiente sint, nulla, nihil
                        repudiandae commodi voluptatibus corrupti animi sequi aliquid magnam debitis, maxime quam
                        recusandae
                        harum esse fugiat. Itaque, culpa?</p>

                </div>
                <hr class="clearfix w-100 d-md-none pb-3">
                <div class="col-md-6 mb-md-0 mb-3">
                    <h5 class="text-uppercase font-weight-bold">Footer text 2</h5>
                    <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Optio deserunt fuga perferendis modi
                        earum
                        commodi aperiam temporibus quod nulla nesciunt aliquid debitis ullam omnis quos ipsam,
                        aspernatur id
                        excepturi hic.</p>
                </div>
            </div>

        </div>
        <div class="container-fluid footer-copyright text-center py-3 bg-info">
            © 2020 A Place for Rover, Inc. All Rights Reserved.
            711 Capitol Way S., Suite 204, Olympia, WA 98501
        </div>
    </footer>

    <!-- jQuery first, then Tether, then Bootstrap JS. -->
    <!-- jQuery first, then Tether, then Bootstrap JS. -->
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"
        integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"
        integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"
        integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn"
        crossorigin="anonymous"></script>
</body>

</html>